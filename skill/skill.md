# üéì Skill Map / –¢–ó –¥–ª—è Kiro

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç **–ø–æ—ç—Ç–∞–ø–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–π –æ–Ω–ª–∞–π–Ω‚Äë—à–∫–æ–ª—ã** (–æ–Ω–ª–∞–π–Ω‚Äë—Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—Å—Ç–≤–æ) –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–±–æ—á–∏–π —Ñ–∞–π–ª –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

–°—Ç–µ–∫ –ø—Ä–æ–µ–∫—Ç–∞:

* Frontend: **Next.js** (Vercel)
* Backend: **Supabase** (PostgreSQL, Auth, Storage, Edge Functions)
* –í–∏–¥–µ–æ: **WebRTC (Jitsi)**
* –ü–ª–∞—Ç–µ–∂–∏: **Kaspi Pay**
* –§–æ—Ä–º–∞—Ç –∑–∞–Ω—è—Ç–∏–π: **–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ**
* –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π: **–Ω–µ—Å–∫–æ–ª—å–∫–æ**

---

## üü¢ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (v0.1)

‚úî –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚úî –§–æ—Ä–º–∞ –∑–∞–ø–∏—Å–∏ –Ω–∞ –ø—Ä–æ–±–Ω—ã–π —É—Ä–æ–∫
‚úî –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è / –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚úî –ö–∞–±–∏–Ω–µ—Ç —É—á–µ–Ω–∏–∫–∞:

* –ø—Ä–æ—Ñ–∏–ª—å
* –∑–∞–ø–∏—Å—å –Ω–∞ —É—Ä–æ–∫
* —Å–ø–∏—Å–æ–∫ —É—Ä–æ–∫–æ–≤
* —Å—Ç–∞—Ç—É—Å—ã —É—Ä–æ–∫–æ–≤

---

## üß© –≠–¢–ê–ü 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ä–æ–ª–∏

### –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

* `student` ‚Äî —É—á–µ–Ω–∏–∫
* `teacher` ‚Äî –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å
* `admin` ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

–†–æ–ª—å —Ö—Ä–∞–Ω–∏—Ç—Å—è:

* `public.users.role`
* `auth.users.app_metadata.role`

---

## üóÑÔ∏è –≠–¢–ê–ü 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (Supabase)

### users

```
id (uuid, auth)
role (student | teacher | admin)
name
phone
email
grade
created_at
```

### teachers

```
id
user_id
bio
subjects (array)
price_per_lesson
is_active
```

### teacher_schedule

```
id
teacher_id
day_of_week (0‚Äì6)
time_start
time_end
```

### lessons

```
id
student_id
teacher_id
subject
date
time_start
time_end
type (trial | paid)
status (pending | confirmed | completed | canceled)
meeting_link
```

### payments

```
id
user_id
lesson_id
amount
currency
provider (kaspi)
status (pending | paid | failed)
created_at
```

### lesson_notes

```
id
lesson_id
teacher_comment
homework
```

‚ö† –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∑–∞—â–∏—â–µ–Ω—ã —á–µ—Ä–µ–∑ **RLS (Row Level Security)**

---

## üõ°Ô∏è –≠–¢–ê–ü 3. RLS (–∫—Ä–∞—Ç–∫–æ)

* student: –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–∏–º –¥–∞–Ω–Ω—ã–º
* teacher: –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–∏–º —É—Ä–æ–∫–∞–º
* admin: –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø

---

## üßë‚Äçüè´ –≠–¢–ê–ü 4. –ö–∞–±–∏–Ω–µ—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è

–§—É–Ω–∫—Ü–∏–∏:

* –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–µ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
* —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö —É—Ä–æ–∫–æ–≤
* –∫–∞—Ä—Ç–æ—á–∫–∞ —É—á–µ–Ω–∏–∫–∞
* –∫–Ω–æ–ø–∫–∞ `–ù–∞—á–∞—Ç—å —É—Ä–æ–∫`
* –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Ä–æ–∫–∞
* –æ—Ç—á—ë—Ç –ø–æ —É—Ä–æ–∫—É:

  * –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
  * –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

* –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∏–Ω–∞–Ω—Å–∞–º
* –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –¥—Ä—É–≥–∏–º –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º

---

## üñ•Ô∏è –≠–¢–ê–ü 5. –û–Ω–ª–∞–π–Ω‚Äë—É—Ä–æ–∫ (WebRTC)

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è

* Jitsi Meet (self‚Äëhost / cloud)

### –õ–æ–≥–∏–∫–∞

* —Å—Å—ã–ª–∫–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ `lesson.status = confirmed`
* –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è teacher + student
* –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –≤ –∏–Ω—Ç–µ—Ä–≤–∞–ª–µ —É—Ä–æ–∫–∞

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

* –≤–∏–¥–µ–æ
* –º–∏–∫—Ä–æ—Ñ–æ–Ω
* —á–∞—Ç
* –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞
* –∫–Ω–æ–ø–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Ä–æ–∫–∞

---

## üí≥ –≠–¢–ê–ü 6. –ü–ª–∞—Ç–µ–∂–∏ (Kaspi Pay)

### –°—Ü–µ–Ω–∞—Ä–∏–∏

* –ø—Ä–æ–±–Ω—ã–π —É—Ä–æ–∫ ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ (1 —Ä–∞–∑)
* –ø–ª–∞—Ç–Ω—ã–π —É—Ä–æ–∫ ‚Äî –ø—Ä–µ–¥–æ–ø–ª–∞—Ç–∞

### –õ–æ–≥–∏–∫–∞

```
–µ—Å–ª–∏ payment.status !== paid
‚Üí lesson.status = pending
```

–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã:

* Kaspi webhook
* Supabase Edge Function
* –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `payments` + `lessons`

---

## üîî –≠–¢–ê–ü 7. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ö–∞–Ω–∞–ª—ã:

* WhatsApp
* Telegram
* Email (—Ä–µ–∑–µ—Ä–≤)

–°–æ–±—ã—Ç–∏—è:

* —Å–æ–∑–¥–∞–Ω–∞ –∑–∞—è–≤–∫–∞
* —É—Ä–æ–∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω
* –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∑–∞ 24 —á–∞—Å–∞
* –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∑–∞ 1 —á–∞—Å
* —Å—Å—ã–ª–∫–∞ –Ω–∞ —É—Ä–æ–∫

---

## üìö –≠–¢–ê–ü 8. –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –∏—Å—Ç–æ—Ä–∏—è –æ–±—É—á–µ–Ω–∏—è

* –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —É—Ä–æ–∫–æ–≤ —É—á–µ–Ω–∏–∫–∞
* –∑–∞–º–µ—Ç–∫–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
* –¥–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
* —Ñ–∞–π–ª—ã (Supabase Storage)

---

## üìä –≠–¢–ê–ü 9. –ê–¥–º–∏–Ω‚Äë–ø–∞–Ω–µ–ª—å

–§—É–Ω–∫—Ü–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:

* —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫–∞–º–∏
* —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏
* –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ / –ø–µ—Ä–µ–Ω–æ—Å —É—Ä–æ–∫–æ–≤
* –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–ª–∞—Ç–µ–∂–µ–π
* —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç—ã

–û—Ç–¥–µ–ª—å–Ω—ã–π —Ä–æ—É—Ç:

```
/admin
```

---

## üöÄ –≠–¢–ê–ü 10. –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫

–ß–µ–∫‚Äë–ª–∏—Å—Ç:

* RLS –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
* –ø–ª–∞—Ç–µ–∂–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
* –≤–∏–¥–µ–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ
* —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
* —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üóìÔ∏è –ü–ª–∞–Ω –∑–∞–ø—É—Å–∫–∞ (30 –¥–Ω–µ–π)

**–ù–µ–¥–µ–ª—è 1**

* —Ñ–∏–Ω–∞–ª –ë–î
* —Ä–æ–ª–∏ + RLS
* –±–∞–∑–æ–≤–∞—è –∞–¥–º–∏–Ω–∫–∞

**–ù–µ–¥–µ–ª—è 2**

* –∫–∞–±–∏–Ω–µ—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
* —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

**–ù–µ–¥–µ–ª—è 3**

* –≤–∏–¥–µ–æ—É—Ä–æ–∫–∏
* Kaspi Pay
* —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–ù–µ–¥–µ–ª—è 4**

* —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
* –±–∞–≥—Ñ–∏–∫—Å—ã
* –∑–∞–ø—É—Å–∫

---

## üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

–î–∞–Ω–Ω—ã–π —Ñ–∞–π–ª —è–≤–ª—è–µ—Ç—Å—è **–æ—Å–Ω–æ–≤–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –ø—Ä–∞–≤–¥—ã** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –í—Å–µ –∑–∞–¥–∞—á–∏, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–ª–∂–Ω—ã —Å–≤–µ—Ä—è—Ç—å—Å—è —Å —ç—Ç–∏–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–º.
